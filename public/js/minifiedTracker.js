var pageName="index";function loadHandler(){"Youliang Liu's Introduction page"==document.title&&(pageName="index"),"Youliang Liu's Images page"==document.title&&(pageName="image"),"Youliang Liu's Form page"==document.title&&(pageName="form"),"Youliang Liu's externals page"==document.title&&(pageName="externals"),"Youliang Liu's table and list page"==document.title&&(pageName="tables"),"Youliang Liu's Report page"==document.title&&(pageName="report"),requestId()}function requestId(){var e=new XMLHttpRequest;e.open("POST","https://us-central1-cse135-hw3-3650c.cloudfunctions.net/assignSessionId",!1),e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(document.cookie=e.responseText)},e.send("request")}function addId(){var e=localStorage.getItem(pageName),t=JSON.parse(e);t.id=document.cookie.split("=")[1],localStorage.setItem(pageName,JSON.stringify(t))}function sendData(){var e=new XMLHttpRequest;e.open("POST","https://us-central1-cse135-hw3-3650c.cloudfunctions.net/updateData",!1),addId();var t=localStorage.getItem(pageName);e.send(t)}window.addEventListener("DOMContentLoaded",loadHandler),window.addEventListener("beforeunload",sendData);